# Семантика языка


## Общая структура программы

Программа состоит из глобальных объявлений переменных и главной функции `main`.  
Перед началом выполнения инициализируются глобальные переменные, после чего вызывается функция `main`.  
Внутри функций и блоков инструкции выполняются сверху вниз.

## Типы данных

В языке на данной итерации поддерживаются 3 встроенных типов данных: 

| Тип      | Описание                           | Пример литерала | Соответсвующий тип в C# | Особенности                        |
| -------- | ---------------------------------- | --------------- | ----------------------- | ---------------------------------- |
| `int`    | Целое число (знаковое, 32 бита)    | `123`, `0`      | 32-битный `int`         | от -2 147 483 648 до 2 147 483 647 |
| `float`  | Число с плавающей точкой (64 бита) | `3.14`, `0.5`   | 64-битный `double`      | от 5,0 * 10^-324 до 1,7 * 10^308   |
| `void`   | Отсутствие значения                | –               | `void`                  | Используется только для функций    |

Неявные преобразования типов не поддерживаются.

## Переменные и область видимости

### Объявление переменных
Переменные объявляются с помощью ключевых слов `let` (изменяемая) или `const` (константа):
- Для изменяемой переменной (`let`) инициализатор может отсутствовать. В этом случае переменная получает значение по умолчанию для своего типа:
  - `int` - 0
  - `float` - 0.0

- Для константы (`const`) инициализатор обязателен всегда
- Тип инициализированного значения должен совпадать с указанным типом переменной
- Вычисленное выражение инициализатора справа присваивается новой переменной

## Область видимости

- Переменные могут быть объявлены:
  - в глобальной области (вне всех блоков до ` main`) - видны во всей программе
  - внутри блоков `{ }` - локальные переменные
- Идентификатор переменной должен быть уникальным в пределах текущей области видимости
- Нельзя использовать идентифакатор до его объявления
- Блок создаёт новую вложенную область видимости:
  - Переменная, объявленная внутри блока, видна только в этом блоке (и во вложенных блоках)
  - Внутри блока можно объявить переменную с тем же именем, что и во внешней области. Внутри блока будет видна новая переменная, внешняя становится недоступной до выхода из блока
  - Время жизни локальной переменной – от точки объявления до конца блока

### Присваивание
Присваивание значения уже объявленной переменной выполняется с помощью оператора `=`, при этом:

- Тип выражения должен совпадать с типом переменной
- Константе (`const`) нельзя присваивать новое значение

## Выражения

### Порядок вычисления
Выражения вычисляются в соответствии с приоритетом и ассоциативностью операций(см. таблицу в описании синтаксиса). Операнды бинарных операций вычисляются слева направо.

Оператор `=` используется только в инструкциях присваивания и не может входить в состав выражений (например, `a = b = c` недопустимо)

### Семантика операций

#### Унарные операции

- Унарный минус `-`: применим только к операндам типа `int` или `float`, возвращает число с противоположным знаком

#### Арифметические бинарные операции

- Умножение `*`, деление `/`, сложение `+`, вычитание `-`: выполняют соответствующие арифметические действия с учётом правил типов. Применимы только к операндам одного типа (`int` или `float`)

#### Скобки
- `( )`: изменяют порядок вычисления, выражение в скобках вычисляется первым

### Литералы
- Целые литералы (`123`) имеют тип `int`
- Вещественные литералы (`3.14`) имеют тип `float`
- Отрицательные числа записываются с помощью унарного минуса перед литералом

## Ввод

`input(идентифакатор)`:
- Ожидает ввод строки с клавиатуры одного слова (последовательности символов, не содержащей пробелов, табуляций, перевода строки). Чтение прекращается при встрече первого пробельного символа 
- Ведущие и завершающие пробелы во введённой строке игнорируются
- Строка преобразуется в тип переменной:
  - Для `int`: ожидается целое число (возможно со знаком). Если преобразование невозможно – ошибка выполнения
  - Для `float`: ожидается число в формате с плавающей точкой (например, `3.14` или `-0.5`). Если преобразование невозможно – ошибка выполнения
- Полученное значение сохраняется в переменную

## Вывод

`print(выражение1, выражение2, ...)`:

- Вычисляются все переданные выражения в порядке слева направо
- Поддерживаются типы `int`, `float`
- Вывод значений производится в стандартный поток вывода:
  - `int` – десятичное представление без лишних нулей
  - `float` – представление с плавающей точкой (например, `3.14`), не менее одного знака после запятой
- Значения разделяются одним пробелом
- После вывода всех значений добавляется перевод строки
- Если список выражений пуст (т.е. `print();`), выводится только пустая строка (перевод строки)

## Главная функция main

Программа обязана содержать функцию с именем `main`, типом возврата `void` и без параметров. Она является точкой входа:
- Если функция `main` отсутствует, имеет другой тип возврата или параметры, программа считается некорректной
- После инициализации глобальных переменных выполняется вызов `main()`. Завершение `main` означает завершение программы

## Ошибки которые могут возникнуть во время выполнения
При выполнении программой следующих случаев могут возникать ошибки:
- Деление на ноль в операциях `/`
- Переполнение при арифметических операциях
- Если введённая строка не может быть преобразован в ожмадаемый тип

